{"mappings":"YAGA,IAAMA,EAAM,wEAGNC,EAAQ,gCACRC,EAASC,SAASC,cAAc,WAChCC,EAAYF,SAASC,cAAc,iBACnCE,EAAQH,SAASC,cAAc,UAC/BG,EAASJ,SAASC,cAAc,aAIhCI,EAAc,SAACC,EAASC,GAC1BC,MAAM,GAA0BC,OAAvBX,EAAM,mBAAqBW,OAAJZ,IAC/Ba,MAAK,SAAAC,GACF,IAAIA,EAASC,GACT,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,M,IAEnBL,MAAK,SAAAM,GACF,GAAKV,EAGA,CACD,IAAMW,EAAOD,EAAKE,MAAK,SAAAC,G,OAAUA,EAAOC,KAAOd,C,IAC/Ce,EAAQJ,EAAMV,E,MAJde,EAASN,E,IAOhBO,OAAM,SAAAC,GACHA,EAAMC,MAAMC,QAAU,QACtBC,QAAQC,IAAIJ,E,KAKdF,EAAW,SAACO,GACdA,EAAQC,SAAQ,SAAAC,GACZ,IAAMC,EAAShC,SAASiC,cAAc,UACtC/B,EAAUgC,OAAOF,GACjBA,EAAOG,MAAQJ,EAAQX,GACvBY,EAAOI,YAAcL,EAAQM,I,KA4B/BhB,EAAU,SAACJ,EAAMV,GACnBH,EAAOkC,UAAY,iBAEH7B,OADNQ,EAAKoB,KAAK,6BAEX5B,OADOF,EAAIgC,IAAI,qCAEK9B,OADpBQ,EAAKuB,YAAY,yCACoB/B,OAAjBQ,EAAKwB,YAAY,QAC1CC,YAAW,WACPtC,EAAOqB,MAAMC,QAAU,QACvB3B,EAAO0B,MAAMC,QAAU,M,GACzB,E,EAOVrB,IACAH,EAAUyC,iBAAiB,SAAS,W,OAxCXrC,EAwCiCJ,EAAUiC,MAvChEpC,EAAO0B,MAAMC,QAAU,QACvBtB,EAAOqB,MAAMC,QAAU,YACvBlB,MAAM,GAAmCC,OAAhCX,EAAM,4BAA6CW,OAAnBH,EAAQ,aAAeG,OAAJZ,IAC3Da,MAAK,SAAAC,GACF,IAAIA,EAASC,GACT,MAAM,IAAIC,MAAMF,EAASG,QAGzB,OADAX,EAAMsB,MAAMC,QAAU,OACff,EAASI,M,IAEnBL,MAAK,SAAAM,GACF,IAAMT,EAAMS,EAAK,GACjBX,EAAYC,EAASC,E,IAExBgB,OAAM,SAAAqB,GACH7C,EAAO0B,MAAMC,QAAU,OACvBvB,EAAMsB,MAAMC,QAAU,QACtBC,QAAQC,IAAIgB,E,IAlBA,IAACtC,C","sources":["src/cat-api.js"],"sourcesContent":["//import axios from \"axios\";\n//axios.defaults.headers.common[\"live_oiJWdZviVlbnAIfHszSzp2umobU27xezVTg2ey2mGvs5e8u3PEIDjOEU4QlU78Wp\"] = \"key\";\n\nconst key = \"live_oiJWdZviVlbnAIfHszSzp2umobU27xezVTg2ey2mGvs5e8u3PEIDjOEU4QlU78Wp\"\n// nie wiem czy dobrze dodałem klucz bo nie wiem jak to sprawdzić czy jest dobrze dodany\n\nconst basic = \"https://api.thecatapi.com/v1/\"\nconst loader = document.querySelector(\".loader\");\nconst selectCat = document.querySelector(\".breed-select\");\nconst error = document.querySelector(\".error\");\nconst catBox = document.querySelector(\".cat-info\")\n// też nie udał mi sie podzielić kodu na dwa pliki z racji tego że nie wiem jak \n// wywołać funkcje w cat-api i żeby otwożyła sie w index i na odwrót \n\nconst fetchBreeds = (breedId, img) => {\n    fetch(`${basic}breeds?api_key=${key}`)\n    .then(response => {\n        if(!response.ok){\n            throw new Error(response.status)\n        }\n        return response.json()\n    })\n    .then(data => {\n        if (!breedId) {\n            catsList(data)\n        }\n        else {\n            const info = data.find(option => option.id === breedId)\n            catInfo(info, img)\n        }\n    }) \n    .catch(error => {\n        error.style.display = \"block\"\n        console.log(error)\n    })\n    return\n}\n\nconst catsList = (catInfo) => {\n    catInfo.forEach(element => {\n        const newCat = document.createElement(\"option\");\n        selectCat.append(newCat)\n        newCat.value = element.id\n        newCat.textContent = element.name\n    });\n    return\n}\n\nconst fetchCatByBreed = (breedId) => {\n    loader.style.display = \"block\"\n    catBox.style.display = \"none\"\n    fetch(`${basic}images/search?breed_ids=${breedId}&api_key=${key}`)\n    .then(response => {\n        if(!response.ok){\n            throw new Error(response.status)\n        }\n            error.style.display = \"none\"\n            return response.json()\n        })\n        .then(data => {\n            const img = data[0]\n            fetchBreeds(breedId, img)\n        })\n        .catch(problem => {\n            loader.style.display = \"none\"\n            error.style.display = \"block\"\n            console.log(problem)\n        })\n        return\n}\n\nconst catInfo = (info, img) => {\n    catBox.innerHTML = `\n        <h2>${info.name}</h2>\n        <img src=\"${img.url}\"height=\"400\"></img>\n        <p>${info.description}</p>\n        <p><b>Temperament: </b>${info.temperament}</p>`  \n        setTimeout(() => {\n            catBox.style.display = \"block\"\n            loader.style.display = \"none\"\n        },0)\n        return\n    }\n\n// wiem że to opóźnienie setTimeout nie wygląda dobrze ale nie wiem jak zrobić to\n// w ten sposób aby otwierało sie to na końcu kolejki \n\nfetchBreeds()\nselectCat.addEventListener(\"input\", () => fetchCatByBreed(selectCat.value))"],"names":["$ae0c329fb0fb36dc$var$key","$ae0c329fb0fb36dc$var$basic","$ae0c329fb0fb36dc$var$loader","document","querySelector","$ae0c329fb0fb36dc$var$selectCat","$ae0c329fb0fb36dc$var$error","$ae0c329fb0fb36dc$var$catBox","$ae0c329fb0fb36dc$var$fetchBreeds","breedId","img","fetch","concat","then","response","ok","Error","status","json","data","info","find","option","id","$ae0c329fb0fb36dc$var$catInfo","$ae0c329fb0fb36dc$var$catsList","catch","error1","style","display","console","log","catInfo1","forEach","element","newCat","createElement","append","value","textContent","name","innerHTML","url","description","temperament","setTimeout","addEventListener","problem"],"version":3,"file":"index.8b49dfb8.js.map"}