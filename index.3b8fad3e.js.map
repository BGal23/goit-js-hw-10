{"mappings":"AAGA,MAIMA,EAASC,SAASC,cAAc,WAChCC,EAAYF,SAASC,cAAc,iBACnCE,EAAQH,SAASC,cAAc,UAC/BG,EAASJ,SAASC,cAAc,aAIhCI,EAAc,CAACC,EAASC,KAC1BC,MAAM,qHACLC,MAAKC,IACF,IAAIA,EAASC,GACT,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,MAAM,IAEzBL,MAAKM,IACF,GAAKT,EAGA,CACD,MAAMU,EAAOD,EAAKE,MAAKC,GAAUA,EAAOC,KAAOb,IAC/Cc,EAAQJ,EAAMT,E,MAJdc,EAASN,E,IAOhBO,OAAMC,IACHA,EAAMC,MAAMC,QAAU,QACtBC,QAAQC,IAAIJ,EAAM,GAEtB,EAGEF,EAAYO,IACdA,EAAQC,SAAQC,IACZ,MAAMC,EAAS/B,SAASgC,cAAc,UACtC9B,EAAU+B,OAAOF,GACjBA,EAAOG,MAAQJ,EAAQX,GACvBY,EAAOI,YAAcL,EAAQM,IAAI,GAErC,EA0BEhB,EAAU,CAACJ,EAAMT,KACnBH,EAAOiC,UAAY,iBACTrB,EAAKoB,gCACC7B,EAAI+B,uCACXtB,EAAKuB,mDACevB,EAAKwB,kBAC9BC,YAAW,KACPrC,EAAOoB,MAAMC,QAAU,QACvB1B,EAAOyB,MAAMC,QAAU,MAAM,GAC/B,EACF,EAMRpB,IACAH,EAAUwC,iBAAiB,SAAS,KAAMC,OAxCjBrC,EAwCiCJ,EAAUgC,MAvChEnC,EAAOyB,MAAMC,QAAU,QACvBrB,EAAOoB,MAAMC,QAAU,YACvBjB,MAAM,wDAAmCF,mFACxCG,MAAKC,IACF,IAAIA,EAASC,GACT,MAAM,IAAIC,MAAMF,EAASG,QAGzB,OADAV,EAAMqB,MAAMC,QAAU,OACff,EAASI,MAAM,IAEzBL,MAAKM,IACF,MAAMR,EAAMQ,EAAK,GACjBV,EAAYC,EAASC,EAAI,IAE5Be,OAAMsB,IACH7C,EAAOyB,MAAMC,QAAU,OACvBtB,EAAMqB,MAAMC,QAAU,QACtBC,QAAQC,IAAIiB,EAAQ,IAlBR,IAACtC,CAwCiD","sources":["src/cat-api.js"],"sourcesContent":["//import axios from \"axios\";\n//axios.defaults.headers.common[\"live_oiJWdZviVlbnAIfHszSzp2umobU27xezVTg2ey2mGvs5e8u3PEIDjOEU4QlU78Wp\"] = \"key\";\n\nconst key = \"live_oiJWdZviVlbnAIfHszSzp2umobU27xezVTg2ey2mGvs5e8u3PEIDjOEU4QlU78Wp\"\n// nie wiem czy dobrze dodałem klucz bo nie wiem jak to sprawdzić czy jest dobrze dodany\n\nconst basic = \"https://api.thecatapi.com/v1/\"\nconst loader = document.querySelector(\".loader\");\nconst selectCat = document.querySelector(\".breed-select\");\nconst error = document.querySelector(\".error\");\nconst catBox = document.querySelector(\".cat-info\")\n// też nie udał mi sie podzielić kodu na dwa pliki z racji tego że nie wiem jak \n// wywołać funkcje w cat-api i żeby otwożyła sie w index i na odwrót \n\nconst fetchBreeds = (breedId, img) => {\n    fetch(`${basic}breeds?api_key=${key}`)\n    .then(response => {\n        if(!response.ok){\n            throw new Error(response.status)\n        }\n        return response.json()\n    })\n    .then(data => {\n        if (!breedId) {\n            catsList(data)\n        }\n        else {\n            const info = data.find(option => option.id === breedId)\n            catInfo(info, img)\n        }\n    }) \n    .catch(error => {\n        error.style.display = \"block\"\n        console.log(error)\n    })\n    return\n}\n\nconst catsList = (catInfo) => {\n    catInfo.forEach(element => {\n        const newCat = document.createElement(\"option\");\n        selectCat.append(newCat)\n        newCat.value = element.id\n        newCat.textContent = element.name\n    });\n    return\n}\n\nconst fetchCatByBreed = (breedId) => {\n    loader.style.display = \"block\"\n    catBox.style.display = \"none\"\n    fetch(`${basic}images/search?breed_ids=${breedId}&api_key=${key}`)\n    .then(response => {\n        if(!response.ok){\n            throw new Error(response.status)\n        }\n            error.style.display = \"none\"\n            return response.json()\n        })\n        .then(data => {\n            const img = data[0]\n            fetchBreeds(breedId, img)\n        })\n        .catch(problem => {\n            loader.style.display = \"none\"\n            error.style.display = \"block\"\n            console.log(problem)\n        })\n        return\n}\n\nconst catInfo = (info, img) => {\n    catBox.innerHTML = `\n        <h2>${info.name}</h2>\n        <img src=\"${img.url}\"height=\"400\"></img>\n        <p>${info.description}</p>\n        <p><b>Temperament: </b>${info.temperament}</p>`  \n        setTimeout(() => {\n            catBox.style.display = \"block\"\n            loader.style.display = \"none\"\n        },0)\n        return\n    }\n\n// wiem że to opóźnienie setTimeout nie wygląda dobrze ale nie wiem jak zrobić to\n// w ten sposób aby otwierało sie to na końcu kolejki \n\nfetchBreeds()\nselectCat.addEventListener(\"input\", () => fetchCatByBreed(selectCat.value))"],"names":["$6b5f202d1456c0af$var$loader","document","querySelector","$6b5f202d1456c0af$var$selectCat","$6b5f202d1456c0af$var$error","$6b5f202d1456c0af$var$catBox","$6b5f202d1456c0af$var$fetchBreeds","breedId","img","fetch","then","response","ok","Error","status","json","data","info","find","option","id","$6b5f202d1456c0af$var$catInfo","$6b5f202d1456c0af$var$catsList","catch","error1","style","display","console","log","catInfo1","forEach","element","newCat","createElement","append","value","textContent","name","innerHTML","url","description","temperament","setTimeout","addEventListener","$6b5f202d1456c0af$var$fetchCatByBreed","problem"],"version":3,"file":"index.3b8fad3e.js.map"}